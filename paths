#!/bin/bash

# Version of the script
SCRIPT_VERSION="1.0.1"

# Display the script's own location
echo "Script location: $(dirname $(readlink -f $0))"

# Shows active paths line by line
echo "Active paths are:"
echo $PATH | tr ':' '\n'

# Function to check for updates
check_for_update() {
    echo "Checking for updates..."
    # Download the raw script content from GitHub
    SCRIPT_CONTENT=$(curl -s $VERSION_URL)
    
    # Extract the version number from the downloaded script content
    LATEST_VERSION=$(echo "$SCRIPT_CONTENT" | grep -oP '(?<=SCRIPT_VERSION=")[^"]+')

    # Check if the extracted version is valid and compare it with the current version
    if [ "$LATEST_VERSION" != "" ] && [ "$LATEST_VERSION" != "$SCRIPT_VERSION" ]; then
        echo "A new version ($LATEST_VERSION) is available. Current version: $SCRIPT_VERSION"
        echo "Update the script by downloading it from: https://github.com/$GITHUB_USER/$GITHUB_REPO"
    else
        echo "You are using the latest version ($SCRIPT_VERSION)."
    fi
}

# GitHub repository and raw file URL
GITHUB_USER="your-github-username"
GITHUB_REPO="your-repository-name"
GITHUB_FILE="your-script.sh"
VERSION_URL="https://raw.githubusercontent.com/$GITHUB_USER/$GITHUB_REPO/main/$GITHUB_FILE"

# Check for updates
check_for_update
